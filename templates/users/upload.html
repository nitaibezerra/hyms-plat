{% extends "base.html" %}

{% block title %}Contribuir com Hinário - {{ block.super }}{% endblock %}

{% block content %}
<div style="max-width: 700px; margin: 0 auto;">
    <div class="card">
        <h1 style="margin: 0 0 10px 0; color: #2c5282; font-size: 28px;">Contribuir com Hinário</h1>
        <p style="color: #666; margin-bottom: 30px;">
            Compartilhe hinários com a comunidade enviando arquivos YAML
        </p>

        {% if form.errors %}
        <div style="background: #fee; border-left: 4px solid #c33; padding: 15px; margin-bottom: 20px; border-radius: 4px;">
            <p style="margin: 0; color: #c33; font-weight: bold;">Erros no formulário:</p>
            {{ form.errors }}
        </div>
        {% endif %}

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div style="margin-bottom: 25px;">
                <label for="id_yaml_file" style="display: block; margin-bottom: 8px; color: #2c5282; font-weight: 500;">
                    Arquivo YAML *
                </label>
                <input type="file" name="yaml_file" id="id_yaml_file" accept=".yaml,.yml" required
                       style="display: block; width: 100%; padding: 10px; border: 2px dashed #2c5282; border-radius: 4px; cursor: pointer; background: #f7fafc;">
                <p style="color: #666; font-size: 13px; margin: 5px 0 0 0;">
                    Envie um arquivo YAML com a estrutura do hinário
                </p>
            </div>

            <div style="margin-bottom: 25px;">
                <label for="id_cover_image" style="display: block; margin-bottom: 8px; color: #2c5282; font-weight: 500;">
                    Imagem de Capa (opcional)
                </label>
                <input type="file" name="cover_image" id="id_cover_image" accept="image/*"
                       style="display: block; width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                <p style="color: #666; font-size: 13px; margin: 5px 0 0 0;">
                    JPG, PNG ou GIF. Tamanho recomendado: 600x800px
                </p>
            </div>

            <button type="submit" class="btn" style="width: 100%; padding: 14px; font-size: 16px;">
                Enviar Hinário
            </button>
        </form>

        <div style="margin-top: 30px; padding: 20px; background: #f7fafc; border-radius: 8px;">
            <h3 style="color: #2c5282; margin-bottom: 10px; font-size: 18px;">Como funciona?</h3>
            <ol style="color: #555; line-height: 1.8; padding-left: 20px; margin: 0;">
                <li>Envie um arquivo YAML com a estrutura do hinário</li>
                <li>O sistema detecta possíveis duplicatas automaticamente</li>
                <li>Você escolhe se deseja criar novo ou adicionar versão</li>
                <li>Revisa os dados antes de confirmar</li>
                <li>O hinário é publicado e indexado na busca</li>
            </ol>
        </div>
    </div>
</div>
{% endblock %}
